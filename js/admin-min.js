/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(x){x.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var E=document.createElement("div");var r={};function G(a){if(a in E.style){return a}var b=["Moz","Webkit","O","ms"];var e=a.charAt(0).toUpperCase()+a.substr(1);if(a in E.style){return a}for(var c=0;c<b.length;++c){var d=b[c]+e;if(d in E.style){return d}}}function D(){E.style[r.transform]="";E.style[r.transform]="rotateY(90deg)";return E.style[r.transform]!==""}var H=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;r.transition=G("transition");r.transitionDelay=G("transitionDelay");r.transform=G("transform");r.transformOrigin=G("transformOrigin");r.transform3d=D();var z={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var C=r.transitionEnd=z[r.transition]||null;for(var s in r){if(r.hasOwnProperty(s)&&typeof x.support[s]==="undefined"){x.support[s]=r[s]}}E=null;x.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(.6,.04,.98,.335)",linear:"cubic-bezier(1,1,1,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};x.cssHooks["transit:transform"]={get:function(a){return x(a).data("transform")||new y()},set:function(b,c){var a=c;if(!(a instanceof y)){a=new y(a)}if(r.transform==="WebkitTransform"&&!H){b.style[r.transform]=a.toString(true)}else{b.style[r.transform]=a.toString()}x(b).data("transform",a)}};x.cssHooks.transform={set:x.cssHooks["transit:transform"].set};if(x.fn.jquery<"1.8"){x.cssHooks.transformOrigin={get:function(a){return a.style[r.transformOrigin]},set:function(b,a){b.style[r.transformOrigin]=a}};x.cssHooks.transition={get:function(a){return a.style[r.transition]},set:function(b,a){b.style[r.transition]=a}}}u("scale");u("translate");u("rotate");u("rotateX");u("rotateY");u("rotate3d");u("perspective");u("skewX");u("skewY");u("x",true);u("y",true);function y(a){if(typeof a==="string"){this.parse(a)}return this}y.prototype={setFromString:function(a,b){var c=(typeof b==="string")?b.split(","):(b.constructor===Array)?b:[b];c.unshift(a);y.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);if(this.setter[a]){this.setter[a].apply(this,b)}else{this[a]=b.join(",")}},get:function(a){if(this.getter[a]){return this.getter[a].apply(this)}else{return this[a]||0}},setter:{rotate:function(a){this.rotate=t(a,"deg")},rotateX:function(a){this.rotateX=t(a,"deg")},rotateY:function(a){this.rotateY=t(a,"deg")},scale:function(b,a){if(a===undefined){a=b}this.scale=b+","+a},skewX:function(a){this.skewX=t(a,"deg")},skewY:function(a){this.skewY=t(a,"deg")},perspective:function(a){this.perspective=t(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(b,a){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(b!==null&&b!==undefined){this._translateX=t(b,"px")}if(a!==null&&a!==undefined){this._translateY=t(a,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");if(a[0]){a[0]=parseFloat(a[0])}if(a[1]){a[1]=parseFloat(a[1])}return(a[0]===a[1])?a[0]:a},rotate3d:function(){var a=(this.rotate3d||"0,0,0,0deg").split(",");for(var b=0;b<=3;++b){if(a[b]){a[b]=parseFloat(a[b])}}if(a[3]){a[3]=t(a[3],"deg")}return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this){if(this.hasOwnProperty(c)){if((!r.transform3d)&&((c==="rotateX")||(c==="rotateY")||(c==="perspective")||(c==="transformOrigin"))){continue}if(c[0]!=="_"){if(a&&(c==="scale")){b.push(c+"3d("+this[c]+",1)")}else{if(a&&(c==="translate")){b.push(c+"3d("+this[c]+",0)")}else{b.push(c+"("+this[c]+")")}}}}}return b.join(" ")}};function v(b,c,a){if(c===true){b.queue(a)}else{if(c){b.queue(c,a)}else{a()}}}function A(a){var b=[];x.each(a,function(c){c=x.camelCase(c);c=x.transit.propertyMap[c]||x.cssProps[c]||c;c=F(c);if(x.inArray(c,b)===-1){b.push(c)}});return b}function B(f,c,a,g){var e=A(f);if(x.cssEase[a]){a=x.cssEase[a]}var b=""+w(c)+" "+a;if(parseInt(g,10)>0){b+=" "+w(g)}var d=[];x.each(e,function(h,i){d.push(i+" "+b)});return d.join(", ")}x.fn.transition=x.fn.transit=function(f,n,g,c){var b=this;var k=0;var i=true;if(typeof n==="function"){c=n;n=undefined}if(typeof g==="function"){c=g;g=undefined}if(typeof f.easing!=="undefined"){g=f.easing;delete f.easing}if(typeof f.duration!=="undefined"){n=f.duration;delete f.duration}if(typeof f.complete!=="undefined"){c=f.complete;delete f.complete}if(typeof f.queue!=="undefined"){i=f.queue;delete f.queue}if(typeof f.delay!=="undefined"){k=f.delay;delete f.delay}if(typeof n==="undefined"){n=x.fx.speeds._default}if(typeof g==="undefined"){g=x.cssEase._default}n=w(n);var m=B(f,n,g,k);var d=x.transit.enabled&&r.transition;var l=d?(parseInt(n,10)+parseInt(k,10)):0;if(l===0){var e=function(o){b.css(f);if(c){c.apply(b)}if(o){o()}};v(b,i,e);return b}var h={};var a=function(o){var p=false;var q=function(){if(p){b.unbind(C,q)}if(l>0){b.each(function(){this.style[r.transition]=(h[this]||null)})}if(typeof c==="function"){c.apply(b)}if(typeof o==="function"){o()}};if((l>0)&&(C)&&(x.transit.useTransitionEnd)){p=true;b.bind(C,q)}else{window.setTimeout(q,l)}b.each(function(){if(l>0){this.style[r.transition]=m}x(this).css(f)})};var j=function(o){this.offsetWidth;a(o)};v(b,i,j);return this};function u(a,b){if(!b){x.cssNumber[a]=true}x.transit.propertyMap[a]=r.transform;x.cssHooks[a]={get:function(c){var d=x(c).css("transit:transform");return d.get(a)},set:function(d,c){var e=x(d).css("transit:transform");e.setFromString(a,c);x(d).css({"transit:transform":e})}}}function F(a){return a.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}function t(a,b){if((typeof a==="string")&&(!a.match(/^[\-0-9\.]+$/))){return a}else{return""+a+b}}function w(a){var b=a;if(x.fx.speeds[b]){b=x.fx.speeds[b]}return t(b,"ms")}x.transit.getTransitionValue=B})(jQuery);
/*!
 * imagesLoaded PACKAGED v3.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function d(){}function b(i,h){for(var j=i.length;j--;){if(i[j].listener===h){return j}}return -1}function g(h){return function(){return this[h].apply(this,arguments)}}var a=d.prototype,c=this,f=c.EventEmitter;a.getListeners=function(k){var j,l,h=this._getEvents();if("object"==typeof k){j={};for(l in h){h.hasOwnProperty(l)&&k.test(l)&&(j[l]=h[l])}}else{j=h[k]||(h[k]=[])}return j},a.flattenListeners=function(i){var h,j=[];for(h=0;i.length>h;h+=1){j.push(i[h].listener)}return j},a.getListenersAsObject=function(i){var h,j=this.getListeners(i);return j instanceof Array&&(h={},h[i]=j),h||j},a.addListener=function(k,m){var h,j=this.getListenersAsObject(k),l="object"==typeof m;for(h in j){j.hasOwnProperty(h)&&-1===b(j[h],m)&&j[h].push(l?m:{listener:m,once:!1})}return this},a.on=g("addListener"),a.addOnceListener=function(i,h){return this.addListener(i,{listener:h,once:!0})},a.once=g("addOnceListener"),a.defineEvent=function(h){return this.getListeners(h),this},a.defineEvents=function(i){for(var h=0;i.length>h;h+=1){this.defineEvent(i[h])}return this},a.removeListener=function(k,m){var h,j,l=this.getListenersAsObject(k);for(j in l){l.hasOwnProperty(j)&&(h=b(l[j],m),-1!==h&&l[j].splice(h,1))}return this},a.off=g("removeListener"),a.addListeners=function(i,h){return this.manipulateListeners(!1,i,h)},a.removeListeners=function(i,h){return this.manipulateListeners(!0,i,h)},a.manipulateListeners=function(m,j,q){var h,l,p=m?this.removeListener:this.addListener,k=m?this.removeListeners:this.addListeners;if("object"!=typeof j||j instanceof RegExp){for(h=q.length;h--;){p.call(this,j,q[h])}}else{for(h in j){j.hasOwnProperty(h)&&(l=j[h])&&("function"==typeof l?p.call(this,h,l):k.call(this,h,l))}}return this},a.removeEvent=function(k){var j,l=typeof k,h=this._getEvents();if("string"===l){delete h[k]}else{if("object"===l){for(j in h){h.hasOwnProperty(j)&&k.test(j)&&delete h[j]}}else{delete this._events}}return this},a.removeAllListeners=g("removeEvent"),a.emitEvent=function(m,j){var q,h,l,p,k=this.getListenersAsObject(m);for(l in k){if(k.hasOwnProperty(l)){for(h=k[l].length;h--;){q=k[l][h],q.once===!0&&this.removeListener(m,q.listener),p=q.listener.apply(this,j||[]),p===this._getOnceReturnValue()&&this.removeListener(m,q.listener)}}}return this},a.trigger=g("emitEvent"),a.emit=function(i){var h=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,h)},a.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},d.noConflict=function(){return c.EventEmitter=f,d},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return d}):"object"==typeof module&&module.exports?module.exports=d:this.EventEmitter=d}).call(this),function(d){function b(e){var h=d.event;return h.target=h.target||h.srcElement||e,h}var g=document.documentElement,a=function(){};g.addEventListener?a=function(i,h,j){i.addEventListener(h,j,!1)}:g.attachEvent&&(a=function(j,k,h){j[k+h]=h.handleEvent?function(){var e=b(j);h.handleEvent.call(h,e)}:function(){var e=b(j);h.call(j,e)},j.attachEvent("on"+k,j[k+h])});var c=function(){};g.removeEventListener?c=function(i,h,j){i.removeEventListener(h,j,!1)}:g.detachEvent&&(c=function(k,j,l){k.detachEvent("on"+j,k[j+l]);try{delete k[j+l]}catch(h){k[j+l]=void 0}});var f={bind:a,unbind:c};"function"==typeof define&&define.amd?define("eventie/eventie",f):d.eventie=f}(this),function(b,a){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(d,c){return a(b,d,c)}):"object"==typeof exports?module.exports=a(b,require("eventEmitter"),require("eventie")):b.imagesLoaded=a(b,b.EventEmitter,b.eventie)}(this,function(p,A,j){function k(c,a){for(var d in a){c[d]=a[d]}return c}function b(a){return"[object Array]"===q.call(a)}function g(d){var c=[];if(b(d)){c=d}else{if("number"==typeof d.length){for(var f=0,a=d.length;a>f;f++){c.push(d[f])}}else{c.push(d)}}return c}function B(d,a,f){if(!(this instanceof B)){return new B(d,a)}"string"==typeof d&&(d=document.querySelectorAll(d)),this.elements=g(d),this.options=k({},this.options),"function"==typeof a?f=a:k(this.options,a),f&&this.on("always",f),this.getImages(),x&&(this.jqDeferred=new x.Deferred);var c=this;setTimeout(function(){c.check()})}function w(a){this.img=a}function m(a){this.src=a,y[a]=this}var x=p.jQuery,z=p.console,l=z!==void 0,q=Object.prototype.toString;B.prototype=new A,B.prototype.options={},B.prototype.getImages=function(){this.images=[];for(var h=0,c=this.elements.length;c>h;h++){var v=this.elements[h];"IMG"===v.nodeName&&this.addImage(v);for(var a=v.querySelectorAll("img"),f=0,u=a.length;u>f;f++){var d=a[f];this.addImage(d)}}},B.prototype.addImage=function(c){var a=new w(c);this.images.push(a)},B.prototype.check=function(){function f(n,i){return c.options.debug&&l&&z.log("confirm",n,i),c.progress(n),s++,s===a&&c.complete(),!0}var c=this,s=0,a=this.images.length;if(this.hasAnyBroken=!1,!a){return this.complete(),void 0}for(var d=0;a>d;d++){var h=this.images[d];h.on("confirm",f),h.check()}},B.prototype.progress=function(c){this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded;var a=this;setTimeout(function(){a.emit("progress",a,c),a.jqDeferred&&a.jqDeferred.notify&&a.jqDeferred.notify(a,c)})},B.prototype.complete=function(){var c=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var a=this;setTimeout(function(){if(a.emit(c,a),a.emit("always",a),a.jqDeferred){var d=a.hasAnyBroken?"reject":"resolve";a.jqDeferred[d](a)}})},x&&(x.fn.imagesLoaded=function(c,a){var d=new B(this,c,a);return d.jqDeferred.promise(x(this))}),w.prototype=new A,w.prototype.check=function(){var c=y[this.img.src]||new m(this.img.src);if(c.isConfirmed){return this.confirm(c.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var a=this;c.on("confirm",function(d,f){return a.confirm(d.isLoaded,f),!0}),c.check()},w.prototype.confirm=function(c,a){this.isLoaded=c,this.emit("confirm",this,a)};var y={};return m.prototype=new A,m.prototype.check=function(){if(!this.isChecked){var a=new Image;j.bind(a,"load",this),j.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},m.prototype.handleEvent=function(c){var a="on"+c.type;this[a]&&this[a](c)},m.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},m.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},m.prototype.confirm=function(c,a){this.isConfirmed=!0,this.isLoaded=c,this.emit("confirm",this,a)},m.prototype.unbindProxyEvents=function(a){j.unbind(a.target,"load",this),j.unbind(a.target,"error",this)},B});var W3Ex=W3Ex||{};jQuery(document).ready(function(){W3Ex.ibaengine=(function(A){var Q=[["rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(255, 255, 255)"],["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)"],["rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]];var R=[];var K={};var k={};var j=[];var E=0;var g=0;var H;var P={type:"#onappeartype",easing:"#onappeareasing",speed:"#onappearspeed"};var N={type:"#ondisappeartype",easing:"#ondisappeareasing",speed:"#ondisappearspeed"};var y={newlayer:"#newlayer",newtext:"#newtextstate",newhtml:"#newhtmlstate",newimage:"#newimagestate",previewlayer:"#previewlayer",deletelayer:"#deletelayer"};var O={layer:0,state:0,style:0};var a={layer:-1,state:-1};var S=[];var d;var B={};var b="";var i=40;var G=false;var h={};h.ispreview=false;h.counter=0;A(document).on("click","div.defaultlayer a",function(U){U.preventDefault();return false});A("#aelementid").keyup(function(){A("#elementerror").html("")});A("#newplaceholder").click(function(){A("#placeholder").dialog("open")});A("input:radio[name=radiop]").click(function(){A("#elementerror").html("")});A("#Top-left").click(function(){A("#elementplacement").text("Top-left");A("#elementerror").html("")});A("#Top-middle").click(function(){A("#elementplacement").text("Top-middle");A("#elementerror").html("")});A("#Top-right").click(function(){A("#elementplacement").text("Top-right");A("#elementerror").html("")});A("#Mid-left").click(function(){A("#elementplacement").text("Mid-left");A("#elementerror").html("")});A("#Mid-middle").click(function(){A("#elementplacement").text("Center");A("#elementerror").html("")});A("#Mid-right").click(function(){A("#elementplacement").text("Mid-right");A("#elementerror").html("")});A("#Bot-left").click(function(){A("#elementplacement").text("Bot-left");A("#elementerror").html("")});A("#Bot-middle").click(function(){A("#elementplacement").text("Bot-middle");A("#elementerror").html("")});A("#Bot-right").click(function(){A("#elementplacement").text("Bot-right");A("#elementerror").html("")});A(document).on("click",".layersettings",function(){var U=A(this);W3Ex.currcontainer=true;W3Ex.clickedelem=U;A("#placeholder").dialog("open")});A("#applyoffset").click(function(){var U=A(this).prop("checked");if(U){A("#leftrightdiv").show();A("#topbottomdiv").show()}else{A("#leftrightdiv").hide();A("#topbottomdiv").hide()}});A("#placeholder").dialog({autoOpen:false,height:420,width:520,modal:true,draggable:false,resizable:false,closeOnEscape:false,open:function(W,X){var Y=A(".ui-dialog:visible");A(Y).css("z-index",300002);A(".ui-widget-overlay").each(function(){A(this).next(".ui-dialog").andSelf().wrapAll('<div class="w3exvtfscope w3exvtfdel" />')});A("span.ui-icon-closethick").css({left:"0px",top:"0px"});A("input:radio[name=radiop]").each(function(){A(this).prop("checked",false)});A("#elementplacement").text("");A("#aelementid").val("");A("#elementerror").html("");A("#placeholder").css("height","342px");A("#applyoffset").prop("checked",false);A("#leftrightdiv").hide();A("#topbottomdiv").hide();A("#leftrightper").val("0");A("#leftrightleft").prop("checked","checked");A("#topbottomper").val("0");A("#topbottomtop").prop("checked","checked");A("#p0").prop("checked","checked");if(W3Ex.currcontainer!=undefined&&W3Ex.currcontainer){var Z=W3Ex.clickedelem.attr("data-id");for(var V=0;V<W3Ex.containers.length;V++){var U=W3Ex.containers[V];if(U==undefined){continue}if(U.id!=Z){continue}if((U.standalone!==true)&&(U.standalone!==false)){if(U.standalone=="true"){U.standalone=true}else{U.standalone=false}}if(U.standalone){A("#p0").prop("checked","checked")}else{A("#p1").prop("checked","checked");A("#aelementid").val(U.elemid);A("#elementplacement").text(U.elemposition);if((U.ifoffset!==true)&&(U.ifoffset!==false)){if(U.ifoffset=="true"){U.ifoffset=true}else{U.ifoffset=false}}if(U.ifoffset){A("#applyoffset").prop("checked",true);A("#leftrightdiv").show();A("#topbottomdiv").show();A("#leftrightper").val(U.leftrightp);A("#"+U.leftrightd).prop("checked","checked");A("#topbottomper").val(U.topbottomp);A("#"+U.topbottomd).prop("checked","checked")}}}}},close:function(U,V){W3Ex.currcontainer=false},buttons:{OK:function(){var Y=A("input[name=radiop]:checked").attr("id");var V=A("#aelementid").val();var aa=A("#elementplacement").text();if(Y!=undefined){if(Y!="p0"){if(z(V)){A("#elementerror").html('<div class="ui-widget"><div class="ui-state-error ui-corner-all" style="padding: 5px;">Enter element ID</div></div>');return}if(z(aa)){A("#elementerror").html('<div class="ui-widget"><div class="ui-state-error ui-corner-all" style="padding: 5px;">Select element position</div></div>');return}}}else{A("#elementerror").html('<div class="ui-widget"><div class="ui-state-error ui-corner-all" style="padding: 5px;">Select layer style</div></div>');return}var X=A(".ui-dialog-buttonset > .ui-button").first();X.addClass("disabled").css("position","relative").append('<div class="showajax"></div>');var ac={};if(Y=="p0"){ac.standalone=true}else{ac.standalone=false;ac.elemid=V;ac.elemposition=aa;ac.ifoffset=A("#applyoffset").prop("checked");if(ac.ifoffset){ac.leftrightp=A("#leftrightper").val();var ae=A("input[name=leftright]:checked").attr("id");ac.leftrightd=ae;ac.topbottomp=A("#topbottomper").val();var ad=A("input[name=topbottom]:checked").attr("id");ac.topbottomd=ad}}if(W3Ex.currcontainer!=undefined&&W3Ex.currcontainer){var W=W3Ex.clickedelem.attr("data-id");ac.id=W;for(var ab=0;ab<W3Ex.containers.length;ab++){var U=W3Ex.containers[ab];if(U==undefined){continue}if(U.id!=W){continue}U.standalone=ac.standalone;if(!U.standalone){U.elemid=ac.elemid;U.elemposition=ac.elemposition;U.ifoffset=ac.ifoffset;if(U.ifoffset){U.leftrightp=ac.leftrightp;U.leftrightd=ac.leftrightd;U.topbottomp=ac.topbottomp;U.topbottomd=ac.topbottomd}}}var Z={};Z.action="ibeffects_ajax_request";Z.type="updateelement";Z.nonce=W3ExIBA.nonce;Z.data=ac;var ag=A(this);var af=W3Ex.clickedelem;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:Z,success:function(ah){X.removeClass("disabled").css("position","static");X.find(".showajax").remove();var ai="<br>type: placeholder";if(ac.standalone){ai+="<br>sub-type: standalone"}else{ai="type: placeholder";ai+="<br>sub-type: attached";ai+="<br>to element: "+ac.elemid;ai+="<br>position: "+ac.elemposition}af.closest(".centerblock").find(".shownimages").html(ai);ag.dialog("close")}})}else{var Z={};Z.action="ibeffects_ajax_request";Z.type="newelement";Z.nonce=W3ExIBA.nonce;Z.data=ac;var ag=A(this);jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:Z,success:function(ah){X.removeClass("disabled").css("position","static");X.find(".showajax").remove();var aj="<br>type: placeholder";if(ac.standalone){aj+="<br>sub-type: standalone"}else{aj="type: placeholder";aj+="<br>sub-type: attached";aj+="<br>to element: "+ac.elemid;aj+="<br>position: "+ac.elemposition}var ai="<tr><td >"+ah.id.id+"</td><td >"+ah.id.shortcode+'</td><td ><div style="text-align:left;">'+ah.id.infoto+'</div></td><td style="padding-top:2px;padding-bottom:6px;"><div class="centerblock"><div class="imagebuttons"><a class="btn btn-success btn-sm editlayer" href="admin.php?page=ibeffects&edit='+ah.id.id+'"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Edit</a><button data-id="'+ah.id.id+'" class="btn btn-info btn-sm layersettings" style="margin-top:6px;margin-bottom:6px;"><span class="glyphicon glyphicon-cog"></span>&nbsp;Settings</button>	<button data-id="'+ah.id.id+'" class="btn btn-danger btn-sm deletelayer"><span class="glyphicon glyphicon-trash"></span>&nbsp;Delete</button>	</div><div class="shownimages" style="text-align:left;padding-left:40px;">'+aj+'</div><div style="clear:both;"> </div></div></td></tr>';A("#showimages > tbody:last").append(ai);W3Ex.containers=W3Ex.containers||[];var ak={};ak.id=ah.id.id;ak.standalone=ac.standalone;if(!ak.standalone){ak.elemid=ac.elemid;ak.elemposition=ac.elemposition;ak.ifoffset=ac.ifoffset;if(ak.ifoffset){ak.leftrightp=ac.leftrightp;ak.leftrightd=ac.leftrightd;ak.topbottomp=ac.topbottomp;ak.topbottomd=ac.topbottomd}}W3Ex.containers.push(ak);ag.dialog("close")}})}},Cancel:function(){A(this).dialog("close")}}});A(y.previewlayer).click(function(){if(a.layer==-1){return}var aa=A(this).text();if(aa.indexOf("Preview Layer")!=-1){A(this).html('<span class="glyphicon glyphicon-stop"></span> Exit Preview</button>');A(this).removeClass("btn-success").addClass("btn-warning");A("#maindiv").hide();A(y.newlayer).attr("disabled","disabled");A(y.deletelayer).attr("disabled","disabled");h.ispreview=true;var X={};X.id=a.layer;h.arrstates=r(a.layer);if(a.state==-1){if(h.arrstates.length>0){C(a.layer,h.arrstates[0].stateid,true)}}else{C(a.layer,a.state,true)}X.top=d.position().top;X.left=d.position().left;X.width=0;X.height=0;h.layer=X;if(G){d.hide()}for(var W=0;W<K.layers.items.length;W++){var X=K.layers.items[W];if(X==undefined){continue}var U=A('.layer[data-id="'+X.id+'"]');if(U.length){U.hide()}}c()}else{A(this).html('<span class="glyphicon glyphicon-play"></span> Preview Layer</button>');A(this).removeClass("btn-warning").addClass("btn-success");A("#maindiv").show();if(!G){A(y.deletelayer).removeAttr("disabled");A(y.newlayer).removeAttr("disabled")}h.ispreview=false;for(var V=0;V<R.length;V++){var Z=R[V];Z.domitem.dequeue();Z.domitem.css({"transition-timing-function":"","transition-delay":"","transition-duration":"","transition-property":""})}var Y=document.getElementById("w3_previewlayer");Y.innerHTML="";R.splice(0,R.length);A("#w3_previewlayer").remove();if(G){d.show()}for(var W=0;W<K.layers.items.length;W++){var X=K.layers.items[W];if(X==undefined){continue}var U=A('.layer[data-id="'+X.id+'"]');if(U.length){U.show()}}}});function n(U){if(U=="layer"){if(G){A(y.deletelayer).attr("disabled","disabled");A(y.newlayer).attr("disabled","disabled")}if(a.layer==-1){A(y.newtext).attr("disabled","disabled");A(y.newhtml).attr("disabled","disabled");A(y.newimage).attr("disabled","disabled");A(y.previewlayer).attr("disabled","disabled");A(y.deletelayer).attr("disabled","disabled")}else{A(y.newtext).removeAttr("disabled");A(y.newhtml).removeAttr("disabled");A(y.newimage).removeAttr("disabled");var V=r(a.layer);if(V.length==0){A(y.previewlayer).attr("disabled","disabled")}else{A(y.previewlayer).removeAttr("disabled")}if(!G){A(y.deletelayer).removeAttr("disabled")}}}if(U=="state"){if(a.state==-1){A("#statesettings").tabs().hide()}else{A("#statesettings").tabs().show()}}}function r(X){var V=[];for(var U=0;U<K.states.items.length;U++){if(!t(K.states.items[U])){continue}var W=K.states.items[U];if(W.layerid!=X){continue}V.push(W)}return V}function z(U){return(!U||!/\S/.test(U))}A("#changestyle").click(function(){C(a.layer,a.state,false);A("#showdialog").dialog("open")});A("#updatestyle").click(function(){var Z=A("#usestyles").val();if(Z=="none"){return}var W;for(var V=0;V<k.items.length;V++){W=k.items[V];if(W==undefined){continue}if(W.id==Z){W.fontsize=A("#slider-font-size").slider("value");W.fontcolor=A("#font-color-value").val();W.fontfamily=A("#font-family").val();if(A("#ifbackground").prop("checked")){W.ifbackground=true;W.backcolor=A("#back-color-value").val();W.radiussize=A("#slider-radius-size").slider("value");W.padding=A("#slider-padding-size").slider("value")}else{W.ifbackground=false}break}}var U=A(this);U.addClass("disabled").css("position","relative").append('<div class="showajax"></div>');var Y={};Y.action="ibeffects_ajax_request";Y.type="savestyle";Y.nonce=W3ExIBA.nonce;var X={};X.styles=k;Y.data=X;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:Y,complete:function(aa){U.removeClass("disabled").css("position","static");U.find(".showajax").remove()}})});A("#renamestyle").click(function(){var aa=A("#usestyles").val();var Z=A("#renamestylename").val();if(z(Z)){return}if(aa=="none"){return}var W;for(var V=0;V<k.items.length;V++){W=k.items[V];if(W==undefined){continue}if(W.id==aa){W.name=Z;break}}var U=A(this);U.addClass("disabled").css("position","relative").append('<div class="showajax"></div>');var Y={};Y.action="ibeffects_ajax_request";Y.type="savestyle";Y.nonce=W3ExIBA.nonce;var X={};X.styles=k;Y.data=X;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:Y,complete:function(ab){U.removeClass("disabled").css("position","static");U.find(".showajax").remove();A("#usestyles option:selected").text(Z);A("#renamestylename").val("")}})});A("#deletestyle").click(function(){var Z=A("#usestyles").val();if(Z=="none"){return}var W;for(var V=0;V<k.items.length;V++){W=k.items[V];if(W==undefined){continue}if(W.id==Z){delete k.items[V];break}}var U=A(this);U.addClass("disabled").css("position","relative").append('<div class="showajax"></div>');var Y={};Y.action="ibeffects_ajax_request";Y.type="savestyle";Y.nonce=W3ExIBA.nonce;var X={};X.styles=k;Y.data=X;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:Y,complete:function(aa){U.removeClass("disabled").css("position","static");U.find(".showajax").remove();A("#usestyles option:selected").remove()}})});A("#newstyle").click(function(){var Y=A("#newstylename").val();if(z(Y)){Y="untitled"}var V=A(this);V.addClass("disabled").css("position","relative").append('<div class="showajax"></div>');var U={};U.name=Y;U.id=O.style;U.fontsize=A("#slider-font-size").slider("value");U.fontcolor=A("#font-color-value").val();U.fontfamily=A("#font-family").val();if(A("#ifbackground").prop("checked")){U.ifbackground=true;U.backcolor=A("#back-color-value").val();U.radiussize=A("#slider-radius-size").slider("value");U.padding=A("#slider-padding-size").slider("value")}else{U.ifbackground=false}O.style++;k.items.push(U);var X={};X.action="ibeffects_ajax_request";X.type="savestyle";X.nonce=W3ExIBA.nonce;var W={};W.styles=k;X.data=W;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:X,complete:function(Z){V.removeClass("disabled").css("position","static");V.find(".showajax").remove();A("#usestyles").append("<option value='"+U.id+"'>"+U.name+"</option>");A("#usestyles").val(U.id);A("#updatestyle, #renamestyle, #deletestyle").removeAttr("disabled");A("#newstylename").val("")}})});A("#ifbackground").click(function(U){if(A("#ifbackground").prop("checked")){A("#divifbackground").css("visibility","visible");A("#fontexample").css("background",A("#back-color-value").val());A("#fontexample").css("border-radius",A("#slider-radius-size").slider("value"))}else{A("#divifbackground").css("visibility","hidden");A("#fontexample").css("background","");A("#fontexample").css("border-radius","")}});A("#usestyles").change(function(){var X=A(this).val();var W=A("#fontexample");if(X=="none"){A("#updatestyle, #renamestyle, #deletestyle").attr("disabled","disabled");A("#ifbackground").prop("checked",false);A("#divifbackground").css("visibility","hidden");W.css("background","");A("#slider-font-size").slider("value",15);A("#font-size").val("15px");A("#slider-padding-size").slider("value",0);A("#padding-size").val("0px");W.css("padding","0px");A("#font-color").spectrum("set","#000000");A("#font-color-value").val("#000000");W.css("color","#000000");W.css("font-size","15px");return}A("#updatestyle, #renamestyle, #deletestyle").removeAttr("disabled");var V;for(var U=0;U<k.items.length;U++){V=k.items[U];if(V==undefined){continue}if(V.id==undefined){continue}if(V.id==X){A("#slider-font-size").slider("value",V.fontsize);A("#font-size").val(V.fontsize+"px");A("#font-family").val(V.fontfamily);W.css("font-family",V.fontfamily);A("#font-color").spectrum("set",V.fontcolor);A("#font-color-value").val(V.fontcolor);W.css("color",V.fontcolor);W.css("font-size",V.fontsize+"px");if(V.ifbackground){if(V.ifbackground=="false"){V.ifbackground=false}if(V.backcolor==undefined){V.ifbackground=false}}if(V.ifbackground){A("#ifbackground").prop("checked",true);A("#divifbackground").css("visibility","visible");A("#back-color").spectrum("set",V.backcolor);A("#back-color-value").val(V.backcolor);A("#slider-radius-size").slider("value",V.radiussize);A("#radius-size").val(V.radiussize+"px");A("#slider-padding-size").slider("value",V.padding);A("#padding-size").val(V.padding+"px");W.css("padding",V.padding+"px");W.css("border-radius",V.radiussize+"px");W.css("background",V.backcolor)}else{A("#ifbackground").prop("checked",false);A("#divifbackground").css("visibility","hidden");W.css("background","");W.css("padding","0px")}break}}});function I(){var W;var U=A("#usestyles");for(var V=0;V<k.items.length;V++){W=k.items[V];if(W==undefined){continue}if(W.id==undefined){continue}U.append("<option value='"+W.id+"'>"+W.name+"</option>");if(W.id>=O.style){O.style=W.id;O.style++}}A("#updatestyle, #renamestyle, #deletestyle").attr("disabled","disabled")}function p(){var ac=o(a.layer);A("#statescontainer").empty();if(ac==undefined){return}for(var Z=0;Z<ac.length;Z++){var U=ac[Z];if(U==undefined){continue}if(U.stateid>=O.state){O.state=U.stateid;O.state++}for(var Y=0;Y<ac.length;Y++){var ab=ac[Y];if(ab.sortid==Z){var aa="Text State";if(ab.type=="html"){aa="Html State"}else{if(ab.type=="image"){aa="Image State"}}var V='<li data-id="'+ab.stateid+'" class="ui-state-highlight layerstate">'+aa+'<button class="btn btn-danger btn-sm" type="button" title="Delete State"><span class="glyphicon glyphicon-trash"></span></button></li>';A("#statescontainer").append(V);break}}}var W=j[a.layer];if(W==undefined){return}if(W.selstate==-1){return}var X='<div class="selstatediv"></div>';A("li.layerstate").removeClass("selstate").find(A("div")).remove();A("li.layerstate[data-id="+W.selstate+"]").addClass("selstate").append(X);a.state=W.selstate;q(a.layer,a.state);n("state")}A(document).on("click","div.imagelayer",function(){if(G){return}var V=A(this).attr("data-id");if(a.layer==V||h.ispreview){return}C(a.layer,a.state,true);var U=j[a.layer];if(U==undefined){U={};j[a.layer]=U}U.selstate=a.state;a.state=-1;O.state=0;A(".layer").removeClass("selected");A(this).addClass("selected");a.layer=V;d=A(this);n("layer");n("state");p()});function C(Y,X,U){if(Y==-1||X==-1){return}U=typeof U!=="undefined"?U:false;var W=o(Y,X);if(a.state!=-1){if(W.type=="text"){W.text=A("#statecontent").val()}else{if(W.type=="html"){W.html=A("#statecontentdiv").html()}}W.displayfor=A("#displaystate").val();W.delayfor=A("#delaystate").val();W.afterfin=A("#laststatefin option:selected").val();W.onappear=A("#onappeartype option:selected").val();W.onappeareasing=A("#onappeareasing option:selected").val();W.onappearspeed=A("#onappearspeed").val();W.ondisappear=A("#ondisappeartype").val();W.ondisappeareasing=A("#ondisappeareasing option:selected").val();W.ondisappearspeed=A("#ondisappearspeed").val();W.staticeffect=A("#laststateeffect option:selected").val()}if(U){var V=o(Y);A("li.layerstate").each(function(Z){var ac=A(this).attr("data-id");for(var aa=0;aa<V.length;aa++){var ab=V[aa];if(ab.stateid!=ac){continue}ab.sortid=Z;break}})}}function o(ab,Z,aa,Y){aa=typeof aa!=="undefined"?aa:false;Y=typeof Y!=="undefined"?Y:false;Z=typeof Z!=="undefined"?Z:-1;var W=[];if(K.states==undefined){K.states={};K.states.items=[]}for(var X=0;X<K.states.items.length;X++){if(K.states.items[X]==undefined){continue}if(K.states.items[X].layerid!=ab){continue}if(Y){delete K.states.items[X];continue}if(Z==-1){W.push(K.states.items[X]);continue}if(K.states.items[X].stateid!=Z){continue}if(aa){delete K.states.items[X];return}return K.states.items[X]}if(Y){for(var V=0;V<K.layers.items.length;V++){if(K.layers.items[V]==undefined){continue}if(K.layers.items[V].id!=ab){continue}delete K.layers.items[V];break}return}if(Z==-1){return W}var U={};U.layerid=ab;U.stateid=Z;U.type="text";U.text="";U.html="";K.states.items.push(U);return U}function s(V,X,U,Y){var W;W=V.toHexString();A("#fontexample").css("background",W);A("#back-color-value").val(W)}function T(U){var V;V=U.toHexString();A("#fontexample").css("color",V);A("#font-color-value").val(V)}function F(){if(A("#newhtmlstate").length){a.layer=-1;A("#statescontainer").sortable({cursor:"move",start:function(W,X){C(a.layer,a.state);var V='<div class="selstatediv"></div>';A("li.layerstate").removeClass("selstate").find(A("div")).remove();X.item.addClass("selstate").append(V);var Y=X.item.attr("data-id");a.state=Y;q(a.layer,a.state);n("state")}}).disableSelection();A("#statesettings").tabs();A("#statesettings").tabs().hide();k.items=[];w();if(K.layers==undefined){K.layers={};K.layers.items=[]}if(K.states==undefined){K.states={};K.states.items=[]}n("layer");I();var U=A("#fontexample");A("#slider-font-size").slider({range:"min",value:15,min:8,max:82,slide:function(V,W){A("#font-size").val(W.value+"px");U.css("font-size",W.value+"px")}});A("#slider-radius-size").slider({range:"min",value:10,min:0,max:50,slide:function(V,W){A("#radius-size").val(W.value+"px");U.css("border-radius",W.value+"px")}});A("#slider-padding-size").slider({range:"min",value:0,min:0,max:20,slide:function(V,W){A("#padding-size").val(W.value+"px");U.css("padding",W.value+"px")}});A("#radius-size").val(A("#slider-radius-size").slider("value")+"px");A("#padding-size").val(A("#slider-padding-size").slider("value")+"px");U.css("border-radius",A("#slider-radius-size").slider("value")+"px");A("#font-color-value").val("#000000");A("#back-color-value").val("#ffffff");A("#showdialog").dialog({autoOpen:false,height:640,width:780,modal:true,draggable:true,resizable:false,closeOnEscape:false,create:function(V,W){A(this).dialog("widget").css({position:"fixed"})},open:function(W,Z){var aa=A(".ui-dialog:visible");A(aa).css("z-index",300002);A(".ui-widget-overlay").each(function(){A(this).next(".ui-dialog").andSelf().wrapAll('<div class="w3exvtfscope w3exvtfdel" />');A("#showdialog").css("height","auto")});A("span.ui-icon-closethick").css({left:"0px",top:"0px"});var ab=A("#fontexample");A("#font-size").val(A("#slider-font-size").slider("value")+"px");ab.css("font-size",A("#slider-font-size").slider("value")+"px");var V="#000000";var Y="#ffffff";A("#back-color").spectrum({color:Y,className:"full-spectrum",appendTo:"#dialogstyles",showPalette:true,showInput:true,showSelectionPalette:true,maxPaletteSize:10,preferredFormat:"hex",change:s,palette:Q});A("#font-color").spectrum({color:V,className:"full-spectrum",appendTo:"#dialogstyles",showPalette:true,showInput:true,showSelectionPalette:true,maxPaletteSize:10,preferredFormat:"hex",change:T,palette:Q});var X=o(a.layer,a.state);B={};if(t(X)&&t(X.style)){B.fontsize=X.style.fontsize;B.fontcolor=X.style.fontcolor;B.fontfamily=X.style.fontfamily;B.ifbackground=X.style.ifbackground;if(X.style.ifbackground){B.backcolor=X.style.backcolor;B.radiussize=X.style.radiussize;B.padding=X.style.padding}A("#font-size").val(B.fontsize+"px");A("#font-family").val(B.fontfamily);ab.css("font-size",B.fontsize+"px");A("#slider-font-size").slider("value",B.fontsize);A("#font-color").spectrum("set",B.fontcolor);A("#font-color-value").val(B.fontcolor);ab.css("color",B.fontcolor);ab.css("font-family",B.fontfamily);if(B.ifbackground){A("#divifbackground").css("visibility","visible");A("#ifbackground").prop("checked",true);ab.css("background",B.backcolor);A("#back-color").spectrum("set",B.backcolor);A("#slider-radius-size").slider("value",B.radiussize);A("#back-color-value").val(B.backcolor);A("#radius-size").val(B.radiussize+"px");A("#slider-padding-size").slider("value",B.padding);A("#padding-size").val(B.padding+"px");ab.css("border-radius",B.radiussize+"px");ab.css("padding",B.padding+"px")}else{ab.css("background","");A("#back-color").spectrum("set","#ffffff");A("#slider-radius-size").slider("value",0);A("#slider-padding-size").slider("value",0);A("#padding-size").val("0px");A("#back-color-value").val(Y);A("#radius-size").val("0px");ab.css("border-radius","0px");ab.css("padding","0px");A("#ifbackground").prop("checked",false);A("#divifbackground").css("visibility","hidden")}}else{A("#font-size").val("15px");ab.css("font-size","15px");A("#slider-font-size").slider("value",15);A("#font-color-value").val(V);ab.css("color",V);ab.css("font-family","");ab.css("background","");ab.css("padding","0px");A("#back-color-value").val(Y);A("#slider-radius-size").slider("value",0);A("#radius-size").val("0px");ab.css("border-radius","0px");A("#ifbackground").prop("checked",false);A("#divifbackground").css("visibility","hidden")}},close:function(V,W){A("#font-color").spectrum("destroy");A("#back-color").spectrum("destroy");A("#updatestyle, #renamestyle, #deletestyle").attr("disabled","disabled");A("#usestyles").val("none")},buttons:{OK:function(){var V=o(a.layer,a.state);if(t(V)){if(!t(V.style)){V.style={}}V.style.fontsize=A("#slider-font-size").slider("value");V.style.fontcolor=A("#font-color-value").val();V.style.fontfamily=A("#font-family").val();V.style.ifbackground=A("#ifbackground").prop("checked");if(V.style.ifbackground){V.style.backcolor=A("#back-color-value").val();V.style.radiussize=A("#slider-radius-size").slider("value");V.style.padding=A("#slider-padding-size").slider("value")}q(a.layer,a.state)}A(this).dialog("close")},Cancel:function(){A(this).dialog("close")}}});A("#showimagesizes").dialog({autoOpen:false,height:420,width:680,modal:true,draggable:false,resizable:false,closeOnEscape:false,open:function(V,W){var X=A(".ui-dialog:visible");A(X).css("z-index",300002);A(".ui-widget-overlay").each(function(){A(this).next(".ui-dialog").andSelf().wrapAll('<div class="w3exvtfscope w3exvtfdel" />')});A("span.ui-icon-closethick").css({left:"0px",top:"0px"})},close:function(V,W){},buttons:{OK:function(){var Z=A("input[name=radioi]:checked").attr("id");if(Z!=undefined){C(a.layer,a.state);var Y=O.state;O.state++;var W='<div class="selstatediv"></div>';var V='<li data-id="'+Y+'" class="ui-state-highlight layerstate" >Image State<button class="btn btn-danger btn-sm deletestate" type="button" title="Delete State"><span class="glyphicon glyphicon-trash"></span></button></li>';A("li.layerstate").removeClass("selstate").find(A("div")).remove();A("#statescontainer").append(V);A("#statescontainer > li:last").addClass("selstate").append(W);a.state=Y;n("state");var X=o(a.layer,Y);X.type="image";X.imagesrc=S[Z];e("image");q(a.layer,Y);n("layer");A(this).dialog("close")}},Cancel:function(){A(this).dialog("close")}}})}}A("#deletelayer").click(function(){if(a.layer==-1){return}o(a.layer,0,false,true);A('#w3_ibacontainer0 > div[data-id="'+a.layer+'"]').remove();a.layer=-1;a.state=-1;A("#statescontainer").empty();n("layer");n("state")});function w(){if(W3Ex.iselement!=undefined){G=true;A(y.deletelayer).attr("disabled","disabled");A(y.newlayer).attr("disabled","disabled");a.layer=0;d=A(".layer");var ab={};ab.id=0;K.layers={};K.layers.items=[];K.layers.items.push(ab);if(W3Ex.imagearrlayers!=undefined){K.states={};K.states.items=[];if(W3Ex.imagearrlayers.states!=undefined){K.states=W3Ex.imagearrlayers.states;p()}}}else{if(W3Ex.imagearrlayers!=undefined){K=W3Ex.imagearrlayers;if(K.layers!=undefined){for(var X=0;X<K.layers.items.length;X++){var W=K.layers.items[X];if(W.id==undefined){K.layers.items.splice(X,1);X--;continue}var aa=W.id;if(O.layer<=aa){O.layer=aa;O.layer++}var U='<div data-id="'+aa+'" class="defaultlayer layer imagelayer defaultstyle"> Layer<br/></div>';A("#w3_ibacontainer0").append(U);var Z=A("#w3_ibacontainer0 > div:last");Z.draggable({containment:"parent",start:function(){var ad=A(this).attr("data-id");if(a.layer==ad||h.ispreview){return}C(a.layer,a.state,true);var ac=j[a.layer];if(ac==undefined){ac={};j[a.layer]=ac}ac.selstate=a.state;a.state=-1;O.state=0;A(".layer").removeClass("selected");A(this).addClass("selected");a.layer=ad;d=A(this);n("layer");n("state");p()}});Z.css("top",parseInt(W.top));Z.css("left",parseInt(W.left))}}}}if(W3Ex.arrstyles!=undefined&&W3Ex.arrstyles.items!=undefined){for(var V=0;V<W3Ex.arrstyles.items.length;V++){var Y=W3Ex.arrstyles.items[V];if(Y==undefined){W3Ex.arrstyles.items.splice(V,1);V--;continue}if(Y.id==undefined){W3Ex.arrstyles.items.splice(V,1);V--;continue}}k=W3Ex.arrstyles}}A("#savechanges").click(function(){if(K.layers.items.length==0){return}C(a.layer,a.state,true);for(var Y=0;Y<K.layers.items.length;Y++){var X=K.layers.items[Y];if(X==undefined){continue}var U=A('.layer[data-id="'+X.id+'"]');if(U.length){X.top=U.position().top;X.left=U.position().left}}var V=A(this);V.addClass("disabled").css("position","relative").append('<div class="showajax"></div>');var ab={};ab.action="ibeffects_ajax_request";ab.type="savechanges";if(G){ab.type="saveelementchanges"}ab.nonce=W3ExIBA.nonce;var aa={};aa.id=W3Ex.imageid;aa.layers=K;if(t(K.states.items)&&t(K.layers.items)){aa.layercount=0;aa.statecount=0;for(var Y=0;Y<K.states.items.length;Y++){if(!t(K.states.items[Y])){continue}if(!t(K.states.items[Y].layerid)){continue}var Z=K.states.items[Y];if(Z.type=="html"){Z.html=Z.html.replace(/\\"/g,'"')}aa.statecount++}for(var W=0;W<K.layers.items.length;W++){if(!t(K.layers.items[W])){continue}aa.layercount++}}ab.data=aa;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:ab,complete:function(ac){V.removeClass("disabled").css("position","static");V.find(".showajax").remove()}})});A("#newlayer").click(function(){C(a.layer,a.state,true);if(a.layer!=-1){var V=j[a.layer];if(V==undefined){V={};j[a.layer]=V}V.selstate=a.state}a.state=-1;O.state=0;var X=O.layer;O.layer++;var U='<div data-id="'+X+'" class="defaultlayer layer imagelayer defaultstyle">Empty Layer<br/><div style="font-size:12px;">/todo: add states/</div></div>';var W={};W.id=X;K.layers.items.push(W);A("#w3_ibacontainer0").append(U);A("#w3_ibacontainer0 > div:last").draggable({containment:"parent",start:function(){var Z=A(this).attr("data-id");if(a.layer==Z||h.ispreview){return}C(a.layer,a.state,true);var Y=j[a.layer];if(Y==undefined){Y={};j[a.layer]=Y}Y.selstate=a.state;a.state=-1;O.state=0;A(".layer").removeClass("selected");A(this).addClass("selected");a.layer=Z;d=A(this);n("layer");n("state");p()}})});function q(Y,X){if(Y==-1||X==-1){return}var W=o(Y,X);if(W.type=="text"){A("#changestyle").removeAttr("disabled");A("#contenttype").text("Text");A("#statecontentdiv").removeClass("ui-nobackground ui-widget ui-state-default ui-corner-all");A("#statecontentdiv").hide();A("#editcontent").hide();A("#statecontent").show();W.text=W.text.replace(new RegExp("\n","g"),"<br />");W.text=W.text.replace(/\\\\/g,"@@@@@");W.text=W.text.replace(/\\/g,"");W.text=W.text.replace(/@@@@@/g,"\\");A("#statecontent").val(W.text);d.html(W.text)}else{if(W.type=="html"){A("#changestyle").removeAttr("disabled");A("#contenttype").text("Html");A("#statecontent").hide();A("#statecontentdiv").show();A("#statecontentdiv").addClass("ui-nobackground ui-widget ui-state-default ui-corner-all");A("#editcontent").show();W.html=W.html.replace(/\\"/g,'"');A("#statecontentdiv").html(W.html);d.html(W.html)}else{if(W.type=="image"){A("#contenttype").text("Image");A("#statecontent").hide();A("#statecontentdiv").show();A("#statecontentdiv").addClass("ui-nobackground ui-widget ui-state-default ui-corner-all");A("#editcontent").hide();A("#changestyle").attr("disabled","disabled");var U='<img src="'+W.imagesrc+'" />';A("#statecontentdiv").html(U);d.html(U)}}}d.removeClass("defaultstyle");if(t(W.style)){var V=W.style;d.css({"font-size":V.fontsize+"px",color:V.fontcolor,"font-family":V.fontfamily});if(V.ifbackground==="true"){V.ifbackground=true}if(V.ifbackground==="false"){V.ifbackground=false}if(V.ifbackground){d.css({background:V.backcolor,"border-radius":V.radiussize+"px",padding:V.padding+"px"})}else{d.css({background:"","border-radius":"",padding:"0px"})}}else{d.css({"font-size":"15px",color:"#000000",background:"","border-radius":"",padding:"0px"})}if(t(W.displayfor)){A("#displaystate").val(W.displayfor)}else{A("#displaystate").val(4000)}if(t(W.delayfor)){A("#delaystate").val(W.delayfor)}else{A("#delaystate").val(0)}if(t(W.afterfin)){A("#laststatefin").val(W.afterfin)}else{A("#laststatefin").val("loop")}if(t(W.onappear)){A("#onappeartype").val(W.onappear)}else{A("#onappeartype").val("fadein")}if(t(W.onappeareasing)){A("#onappeareasing").val(W.onappeareasing)}else{A("#onappeareasing").val("ease")}if(t(W.onappearspeed)){A("#onappearspeed").val(W.onappearspeed)}else{A("#onappearspeed").val(500)}if(t(W.ondisappear)){A("#ondisappeartype").val(W.ondisappear)}else{A("#ondisappeartype").val("fadeout")}if(t(W.ondisappeareasing)){A("#ondisappeareasing").val(W.ondisappeareasing)}else{A("#ondisappeareasing").val("ease")}if(t(W.ondisappearspeed)){A("#ondisappearspeed").val(W.ondisappearspeed)}else{A("#ondisappearspeed").val(500)}if(t(W.staticeffect)){A("#laststateeffect").val(W.staticeffect)}else{A("#laststateeffect").val("tada")}}function e(U){d.html("");if(U=="text"){A("#contenttype").text("Text");A("#statecontentdiv").removeClass("ui-nobackground ui-widget ui-state-default ui-corner-all");A("#statecontentdiv").hide();A("#editcontent").hide();A("#statecontent").show();A("#statecontent").val("");A("#changestyle").removeAttr("disabled")}else{if(U=="html"){A("#contenttype").text("Html");A("#statecontent").hide();A("#statecontentdiv").show();A("#statecontentdiv").addClass("ui-nobackground ui-widget ui-state-default ui-corner-all");A("#editcontent").show();A("#statecontentdiv").html("");A("#changestyle").removeAttr("disabled")}else{if(U=="image"){A("#contenttype").text("Image");A("#statecontent").hide();A("#statecontentdiv").show();A("#statecontentdiv").addClass("ui-nobackground ui-widget ui-state-default ui-corner-all");A("#editcontent").show();A("#statecontentdiv").html("");A("#editcontent").hide();A("#changestyle").attr("disabled","disabled")}}}d.removeClass("defaultstyle");d.css({"font-size":"15px",color:"#000000",background:"","border-radius":"",padding:"0px"});A("#displaystate").val(4000);A("#delaystate").val(0);A("#laststatefin").val("loop");A("#onappeartype").val("fadein");A("#onappeareasing").val("ease");A("#onappearspeed").val(500);A("#ondisappeartype").val("fadeout");A("#ondisappeareasing").val("ease");A("#ondisappearspeed").val(500);A("#laststateeffect").val("tada")}A(document).on("click","li.layerstate > button",function(V){var U=A(this).parent().attr("data-id");o(a.layer,U,true);if(U==a.state){a.state=-1;e("text");n("state")}A(this).parent().remove();n("layer");V.stopPropagation()});A(document).on("click","li.layerstate",function(){C(a.layer,a.state);var V=A(this).attr("data-id");var U='<div class="selstatediv"></div>';A("li.layerstate").removeClass("selstate").find(A("div")).remove();A(this).addClass("selstate").append(U);a.state=V;q(a.layer,a.state);n("state")});A("#statecontent").keyup(function(){var U=A(this).val();U=U.replace(new RegExp("\n","g"),"<br />");d.html(U)});A("#htmleditorok").click(function(){A("#editorcontainer").css("visibility","hidden");A("#editorcontainer").css("display","none");A("#editorcontainer").css("height","0px");A("#wp-posttext-wrap").css("visibility","hidden");A("#wp-posttext-wrap").css("height","0px");A(".w3exvtfscope").show();var U=tinyMCE.get("editorid").getContent();A("#statecontentdiv").html(U);d.html(U);var V=o(a.layer,a.state);V.html=U;A("html, body").animate({scrollTop:parseInt(A("#statecontentdiv").offset().top)},500)});A("#htmleditorcancel").click(function(){A("#editorcontainer").css("visibility","hidden");A("#editorcontainer").css("display","none");A("#editorcontainer").css("height","0px");A("#wp-posttext-wrap").css("visibility","hidden");A("#wp-posttext-wrap").css("height","0px");A(".w3exvtfscope").show();A("html, body").animate({scrollTop:parseInt(A("#statecontentdiv").offset().top)},500)});A("#editcontent").click(function(){A(".w3exvtfscope").css("display","none");A("#editorcontainer").css("visibility","visible");A("#editorcontainer").css("display","block");A("#editorcontainer").css("height","auto");A("#wp-posttext-wrap").css("visibility","visible");A("#wp-posttext-wrap").css("height","400px");tinyMCE.get("editorid").setContent(A("#statecontentdiv").html())});(function(){A("#newtextstate").click(function(){C(a.layer,a.state);var Y=O.state;O.state++;var W='<div class="selstatediv"></div>';var V='<li data-id="'+Y+'" class="ui-state-highlight layerstate" >Text State<button class="btn btn-danger btn-sm deletestate" type="button" title="Delete State"><span class="glyphicon glyphicon-trash"></span></button></li>';A("li.layerstate").removeClass("selstate").find(A("div")).remove();A("#statescontainer").append(V);A("#statescontainer > li:last").addClass("selstate").append(W);a.state=Y;n("state");var X=o(a.layer,Y);n("layer");X.type="text";e("text")});A("#newhtmlstate").click(function(){C(a.layer,a.state);var Y=O.state;O.state++;var W='<div class="selstatediv"></div>';var V='<li data-id="'+Y+'" class="ui-state-highlight layerstate" >Html State<button class="btn btn-danger btn-sm deletestate" type="button" title="Delete State"><span class="glyphicon glyphicon-trash"></span></button></li>';A("li.layerstate").removeClass("selstate").find(A("div")).remove();A("#statescontainer").append(V);A("#statescontainer > li:last").addClass("selstate").append(W);a.state=Y;n("state");var X=o(a.layer,Y);n("layer");X.type="html";X.text="";X.html="";e("html")});var U;A("#newimagestate").click(function(V){V.preventDefault();if(U){U.open();return}U=wp.media.frames.file_frame=wp.media({title:"Choose Image",library:{type:"image"},button:{text:"Choose Image"},multiple:false,displaySettings:true,displayUserSettings:true});U.on("select",function(){var ab=U.state().get("selection").first().toJSON();var Z=ab.sizes;var Y="Select image size to continue<br /><br />";var W=0;S.length=0;var aa="";for(key in Z){var X=ab.sizes[key];if(X==H){continue}if(key=="thumbnail"){aa=X.url}Y+='<input type="radio" id="'+W+'" name="radioi"><label for="'+W+'"> ';Y+=(key.charAt(0).toUpperCase()+key.slice(1))+" - ( width: "+X.width+" ) ( height: "+X.height+" )</label> <br/>";S[W]=X.url;if(aa==""){aa=X.url}W++}Y+='<div id="imageurl"></div>';A("#showimagesizesinner").html(Y);A("#showimagesizes").dialog("open")});U.open()});F()})();A(document).on("click","input:radio",function(){var V=A(this).attr("id");if(S[V]!=undefined){var U='Url: <a href="'+S[V]+'" target="_blank">'+S[V]+"</a>";A("#imageurl").html(U);A("#imagesaveok").removeAttr("disabled")}});A(document).on("click",".deletelayer",function(){var X=A(this).attr("data-id");var V=A(this);var U={};U.action="ibeffects_ajax_request";U.type="deleteimage";U.nonce=W3ExIBA.nonce;var W={};W.id=X;U.data=W;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:U,success:function(Y){V.parents("tr:first").remove()},error:function(Y){}})});var u;A("#newimage").click(function(U){U.preventDefault();if(u){u.open();return}u=wp.media.frames.file_frame=wp.media({title:"Choose Image",library:{type:"image"},button:{text:"Choose Image"},multiple:false,displaySettings:true,displayUserSettings:true});u.on("select",function(){var aa=u.state().get("selection").first().toJSON();var Y=aa.sizes;var X="Select image size to continue<br /><br />";var V=0;S.length=0;var Z="";for(key in Y){var W=aa.sizes[key];if(W==H){continue}if(key=="thumbnail"){Z=W.url}X+='<input type="radio" id="'+V+'" name="radioi"><label for="'+V+'"> ';X+=(key.charAt(0).toUpperCase()+key.slice(1))+" - ( width: "+W.width+" ) ( height: "+W.height+" )</label> <br/>";S[V]=W.url;if(Z==""){Z=W.url}V++}if(Z!=""){A("#imagedivback").css("background-image","url("+Z+")")}X+='<div id="imageurl"></div>';A("#imagesizes").html(X);A("#newimagediv").css("visibility","visible").hide().fadeIn("slow",function(){A("html, body").animate({scrollTop:A(document).height()},"slow")});A("#imagesaveok").unbind("click");A("#imagesaveok").click(function(){var ab={};ab.action="ibeffects_ajax_request";ab.type="newimage";ab.nonce=W3ExIBA.nonce;var ac={};var ad=A("input[name=radioi]:checked").attr("id");if(S[ad]!=undefined){ac.img=S[ad]}ac.thumb=Z;ab.data=ac;jQuery.ajax({type:"post",dataType:"json",url:W3ExIBA.ajaxurl,data:ab,success:function(ae){var af="<tr><td >"+ae.id.id+"</td><td >"+ae.id.shortcode+'</td><td ><div style="text-align:left;">'+ae.id.infoto+'</div></td><td style="padding-top:2px;padding-bottom:6px;"><div class="centerblock"><div class="imagebuttons"><a class="btn btn-success btn-sm editlayer" href="admin.php?page=ibeffects&edit='+ae.id.id+'"><span class="glyphicon glyphicon-pencil"></span>Edit</a><br/><br /><br /><button data-id="'+ae.id.id+'" class="btn btn-danger btn-sm deletelayer"><span class="glyphicon glyphicon-trash"></span>Delete</button>	</div><div class="shownimages""><img src="'+Z+'"></img></div><div style="clear:both;"> </div></div></td></tr>';A("#showimages > tbody:last").append(af);A("#newimage").removeAttr("disabled");A("#newimagediv").fadeOut()},error:function(ae){A("#newimage").removeAttr("disabled");A("#newimagediv").fadeOut()}})});A("#imagesaveok").attr("disabled","disabled");A("#imagesavecancel").click(function(){A("#newimage").removeAttr("disabled");A("#newimagediv").fadeOut()});A("#newimage").attr("disabled","disabled")});u.open()});function t(U){return U!==H}function f(W){var U=m(W);var V={visibility:"hidden"};U.domitem.css(V);R.push(U)}function D(V,U){V.removeClass(U+" animated").addClass(U+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){V.removeClass(U+" animated")})}function x(Y,ac,ab){var ab=typeof ab!=="undefined"?ab:"app";var V=Y.width;var aa=Math.round(V/2);var af=V-aa;var ae=Y.height;var ah=Math.round(ae/2);var W=ae-ah;var U=Y.domitem;var Z={visibility:"visible",opacity:1,transform:"",left:"0px",top:"0px"};if(ab=="app"){if(ac=="mixed"){Z.left="-"+V+"px"}else{if(ac=="hflip"){Z.top=ah+"px"}else{if(ac=="vflip"){Z.left=aa+"px"}}}}U.wrap('<div id="wrap_'+Y.domid+'"></div>');var X={position:"absolute",top:Y.top+"px",left:Y.left+"px",height:ah+"px",width:Y.width+"px",transform:"",overflow:"hidden"};if(ac=="vflip"){X.height=ae+"px";X.width=aa+"px"}A("#wrap_"+Y.domid).css(X);U.css(Z);U.clone().attr("id",Y.domid+"second").prependTo(Y.layerdom);A("#"+Y.domid+"second").wrap('<div id="wraps_'+Y.domid+'"></div>');var ad={opacity:"1",visibility:"visible",left:"0px",top:"-"+ae+"px"};if(ab=="app"){if(ac=="vflip"){ad.left="-"+V+"px";ad.top="0px"}}else{if(ac=="mixed"||ac=="hflip"){ad.top="-"+ah+"px"}else{if(ac=="vflip"){ad.left="-"+aa+"px";ad.top="0px"}}}var ag={position:"absolute",top:(Y.top+ah)+"px",left:Y.left+"px",height:W+"px",width:Y.width+"px",transform:"",overflow:"hidden"};if(ac=="vflip"){ag.left=(Y.left+aa)+"px";ag.top=Y.top+"px";ag.height=ae+"px";ag.width=aa+"px"}A("#wraps_"+Y.domid).css(ag);A("#"+Y.domid+"second").css(ad)}function L(Y){var ac={};var U={};var W=Y.domitem;ac.duration=Y.onappspeed;ac.complete=J;var aa=false;var V=Y.width;var ab=Math.round(V/2);var ad=Y.height;var ae=Math.round(ad/2);if(Y.state.start&&!Y.state.finish){ac.easing=Y.onappeasing;W.css({top:Y.top+"px",left:Y.left+"px",visibility:"visible",opacity:0,transition:"",transform:""});switch(Y.onappear){case"mixed":aa=true;x(Y,"mixed");var ae=Math.ceil(Y.height/2);U.duration=Y.onappspeed;U.easing=Y.onappeasing;U.opacity=1;U.top="-"+ae+"px";ac.opacity=1;ac.left="0px";break;case"hflip":aa=true;x(Y,"hflip");U.duration=Y.onappspeed;U.easing=Y.onappeasing;U.opacity=1;U.top="-"+ae+"px";ac.opacity=1;ac.left="0px";ac.top="0px";break;case"vflip":aa=true;x(Y,"vflip");U.duration=Y.onappspeed;U.easing=Y.onappeasing;U.opacity=1;U.left="-"+ab+"px";ac.opacity=1;ac.left="0px";break;case"fadein":ac.opacity=1;break;case"top":W.css({top:(Y.top-i)+"px"});ac.top=Y.top+"px";ac.opacity=1;break;case"left":W.css({left:(Y.left-i)+"px"});ac.left=Y.left+"px";ac.opacity=1;break;case"right":W.css({left:(Y.left+i)+"px"});ac.left=Y.left+"px";W.css({height:Y.height+"px"});ac.opacity=1;break;case"bottom":W.css({top:(Y.top+i)+"px"});ac.top=Y.top+"px";ac.opacity=1;break;default:break}}else{if(Y.state.finish){ac.duration=Y.ondisspeed;ac.easing=Y.ondiseasing;if(Y.onappear=="mixed"||Y.onappear=="vflip"||Y.onappear=="hflip"){var Z=W.parent();var X=Z.attr("id");if(X.indexOf("wrap")!=-1){W.css({top:Y.top+"px",left:Y.left+"px"});W.unwrap();A("#"+Y.domid+"second").css({visibility:"hidden"});A("#"+Y.domid+"second").unwrap();A("#"+Y.domid+"second").remove()}}else{W.css({top:Y.top+"px",left:Y.left+"px",transition:"",transform:""})}switch(Y.ondis){case"mixed":aa=true;x(Y,"mixed","dis");U.duration=Y.ondisspeed;U.easing=Y.ondiseasing;U.opacity=1;U.top="-"+ad+"px";ac.opacity=1;ac.left=V+"px";break;case"hflip":aa=true;x(Y,"hflip","dis");U.duration=Y.ondisspeed;U.easing=Y.ondiseasing;U.opacity=1;U.top="-"+ad+"px";ac.opacity=1;ac.top=ae+"px";break;case"vflip":aa=true;x(Y,"vflip","dis");U.duration=Y.ondisspeed;U.easing=Y.ondiseasing;U.opacity=1;U.left="-"+V+"px";ac.opacity=1;ac.left=ab+"px";break;case"fadeout":ac.opacity=0;break;case"top":ac.top=(Y.top-i)+"px";ac.opacity=0;break;case"left":ac.left=(Y.left-i)+"px";ac.opacity=0;break;case"right":ac.left=(Y.left+i)+"px";ac.opacity=0;break;case"bottom":ac.top=(Y.top+i)+"px";ac.opacity=0;break;case"none":ac.duration=10;ac.opacity=0;break;default:break}}}if(Y.state.firstshow){Y.state.firstshow=false;Y.state.start=true;Y.state.finish=false;ac.delay=Y.delayfor;if(aa){U.delay=Y.delayfor;A("#"+Y.domid+"second").transition(U)}W.transition(ac)}else{if(Y.state.finish){ac.delay=Y.displayfor;U.delay=Y.displayfor;W.transition(ac);if(aa){U.delay=Y.displayfor;A("#"+Y.domid+"second").transition(U)}}else{ac.delay=0;U.delay=0;W.transition(ac);if(aa){A("#"+Y.domid+"second").transition(U)}}}}function J(X){var X=typeof X!=="undefined"?X:-1;if(!h.ispreview){return}var U;if(X!=-1){U=X}else{U=A(this).attr("id")}for(var ac=0;ac<R.length;ac++){var ad=R[ac];if(ad.domid==U){if(X!=-1){L(ad);return}if(ad.state.start){ad.state.start=false;ad.state.finish=true;if(M(ad)){if(ad.afterfin=="stop"){return}if(ad.afterfin!="loop"){var W=ad.domitem;if(ad.onappear=="mixed"||ad.onappear=="vflip"||ad.onappear=="hflip"){var Z=A("#"+ad.domid+"second");var ab=W.parent();var aa=ab.attr("id");if(aa.indexOf("wrap")!=-1){W.unwrap();W.css({top:ad.top+"px",left:ad.left+"px",opacity:1});Z.css({visibility:"hidden"});Z.unwrap();Z.remove()}}setInterval(D,5500,ad.domitem,ad.staticeffect);return}}L(ad)}else{if(ad.state.finish){var W=ad.domitem;if(ad.ondis=="mixed"||ad.ondis=="vflip"||ad.ondis=="hflip"){var Z=A("#"+ad.domid+"second");var ab=W.parent();var aa=ab.attr("id");if(aa.indexOf("wrap")!=-1){W.unwrap();W.css({top:ad.top+"px",left:ad.left+"px",opacity:0,visibility:"hidden"});Z.css({visibility:"hidden"});Z.unwrap();Z.remove()}}else{W.css({top:ad.top+"px",left:ad.left+"px",transform:"",transition:"",opacity:0,visibility:"hidden"})}var V;var Y=v(ad);V=Y.anim;ad.state.start=false;ad.state.finish=false;ad.state.curritem=false;V.state.start=true;V.state.curritem=true;V.state.finish=false;L(V)}}break}}}function m(V){var X={};var U=A("#w3_effect"+V.stateid+"-"+h.counter);X.domitem=U;var Y={start:false,finish:false,curritem:false,isfirst:false,islast:false,firstshow:false};X.state=Y;X.domid=U.attr("id");X.width=parseInt(U.outerWidth(),10);X.height=U.outerHeight();X.sortid=parseInt(V.sortid,10);X.layerid=0;X.layerdom=h.layer.domitem;X.delayfor=parseInt(V.delayfor,10);X.displayfor=parseInt(V.displayfor,10);X.afterfin=V.afterfin;X.onappear=V.onappear;X.onappeasing=V.onappeareasing;X.onappspeed=parseInt(V.onappearspeed,10);X.ondis=V.ondisappear;X.ondiseasing=V.ondisappeareasing;X.ondisspeed=parseInt(V.ondisappearspeed,10);X.staticeffect=V.staticeffect;var W=h.layer;if(W.width<X.width){W.width=X.width}if(W.height<X.height){W.height=X.height}U.css({position:"absolute",display:"inline-block",width:X.width+"px",height:X.height+"px","padding-right":"0px"});return X}function l(){var X=h.layer;var Z=A("#mainimage");if(Z.width()>Z.height()){i=parseInt(Z.width()*0.14,10)}else{i=parseInt(Z.height()*0.14,10)}if(G){i=40}var Y=h.arrstates;for(var W=0;W<Y.length;W++){var ab=Y[W];f(ab)}X.domitem.removeClass("w3_ibainnerhold");if(G){X.domitem.css({position:"relative",display:"inline-block",width:X.width,height:X.height})}else{X.domitem.css({position:"absolute",top:X.top,left:X.left,width:X.width,height:X.height})}for(var U=0;U<R.length;U++){var aa=R[U];if(G){aa.domitem.css("visibility","hidden")}if(aa.height>X.height){X.domitem.css({height:aa.height})}if(aa.width>X.width){X.domitem.css({width:aa.width})}}for(var V=0;V<R.length;V++){var aa=R[V];if(aa.height<X.height){aa.domitem.css("top",Math.round((X.height-aa.height)/2)+"px")}if(aa.width<X.width){aa.domitem.css("left",Math.round((X.width-aa.width)/2)+"px")}aa.left=aa.domitem.position().left;aa.top=aa.domitem.position().top}for(var W=0;W<R.length;W++){var aa=R[W];if(aa.sortid==0){aa.state.start=true;aa.state.finish=false;aa.state.curritem=true;aa.state.isfirst=true;aa.state.firstshow=true;aa.state.islast=M(aa);L(aa);break}}}function c(){var X=0;var aa=0;R.length=0;h.counter++;if(G){A('<div id="w3_previewlayer"></div>').appendTo(A(".w3c_wrap_element"));h.layer.domitem=A("#w3_previewlayer")}else{A('<div id="w3_previewlayer" class="w3_ibainnerhold"></div>').appendTo(A("#w3_ibacontainer0"));h.layer.domitem=A("#w3_previewlayer")}var Y=h.arrstates;for(var V=0;V<Y.length;V++){var Z=Y[V];A('<div style="position: absolute;left:0px;top:0px;display:inline;" data-id="'+Z.stateid+'" id="w3_effect'+Z.stateid+"-"+h.counter+'" class="w3_effect"></div>').appendTo(h.layer.domitem);var U=A("#w3_effect"+Z.stateid+"-"+h.counter);if(Z.type=="text"){Z.text=Z.text.replace(new RegExp("\n","g"),"<br />");U.html(Z.text)}else{if(Z.type=="html"){var ab=Z.html;Z.html=ab.replace(/\\"/g,'"');U.html(Z.html)}else{U.html('<img src="'+Z.imagesrc+'" />')}}if(t(Z.style)){var W=Z.style;U.css({"font-size":W.fontsize+"px",color:W.fontcolor,"font-family":W.fontfamily});if(W.ifbackground==="true"){W.ifbackground=true}if(W.ifbackground==="false"){W.ifbackground=false}if(W.ifbackground){U.css({background:W.backcolor,"border-radius":W.radiussize+"px",padding:W.padding+"px"})}else{U.css({background:"","border-radius":"",padding:"0px"})}}else{U.css({"font-size":"15px",color:"#000000",background:"","border-radius":"",padding:"0px"})}}if(document.getElementById("w3_previewlayer")){imagesLoaded(document.getElementById("w3_previewlayer"),function(ac){l()})}else{l()}}function M(W){for(var U=0;U<R.length;U++){var V=R[U];if(V.sortid>W.sortid){return false}}return true}function v(Z){var aa={};aa.islast=false;aa.isfirst=false;aa.anim=Z;var V=false;for(var X=0;X<R.length;X++){var Y=R[X];if((Y.sortid-Z.sortid)==1){aa.anim=Y;V=true;break}}var ab=false;for(var W=0;W<R.length;W++){var U=R[W];if(U.sortid==0){if(!V){aa.anim=U;aa.isfirst=true}}else{ab=true}}if(!ab){aa.islast=true}return aa}return{incConItems:function(){E++},finLoad:function(){g++}}})(jQuery)});